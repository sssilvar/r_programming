# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL'))
print(dataset[1])
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL'))
print(dataset)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
print(dataset)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
print(dataset$sid)
adnimerge
merge <- adnimerge
View(merge)
meta -mrimeta
meta <- mrimeta
View(meta)
View(merge)
subject
subjects <- subject
View(subjects)
r <- roster
View(r)
print(adnimerge[adnimerge$PTID == dataset$sid])
print(adnimerge[adnimerge$PTID == dataset$sid, ])
print(adnimerge[adnimerge$PTID == dataset$sid, ])
print(adnimerge[adnimerge$PTID == dataset$sid, ])
print(adnimerge[adnimerge$PTID %in% dataset$sid, ])
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
conversions <- adnimerge[adnimerge$PTID %in% dataset$sid, ]
View(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset[df=='M00'] <- 'bl'
dataset$visit <- tolower(dataset$visit)
conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
View(conversions)
conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
dataset[,c('sid', 'visit')]
adnimerge[, c('PTID', 'VISCODE')]
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset[df=='M00'] <- 'bl'
dataset$visit <- tolower(dataset$visit)
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
View(conversions)
dataset
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
View(conversions)
dataset
adnimerge[, c('PTID', 'VISCODE')]
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] == dataset[,c('sid', 'visit')], ]
View(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
View(conversions)
adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')]
# Load libraries
library(ADNIMERGE)
library(compare)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = compare(adnimerge[, c('PTID', 'VISCODE')], dataset[,c('sid', 'visit')])
View(conversions)
install.packages(compare)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = sumary(compare(adnimerge[, c('PTID', 'VISCODE')], dataset[,c('sid', 'visit')]))
View(conversions)
# Load libraries
library(ADNIMERGE)
library(sumary)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = sumary(compare(adnimerge[, c('PTID', 'VISCODE')], dataset[,c('sid', 'visit')]))
View(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = subset(adnimerge, PTID %in% dataset$sid)
print(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = subset(adnimerge, PTID %in% dataset$sid & VISCODE %in% dataset$visit)
print(conversions)
View(dataset)
adnimerge['RID']
adnimerge['RID', 'VISCODE']
adnimerge['RID', 'VISCODE']
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = intersect(dataset[,c('sid', 'visit')], adnimerge[,c('PTID', 'VISCODE')])
print(adnimerge[conversions])
adnimerge['RID', 'VISCODE']
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
# conversions <- adnimerge[adnimerge$PTID %in% dataset$sid & adnimerge$VISCODE %in% dataset$visit, ]
# conversions <- adnimerge[adnimerge[, c('PTID', 'VISCODE')] %in% dataset[,c('sid', 'visit')], ]
conversions = intersect(dataset[,c('sid', 'visit')], adnimerge[,c('PTID', 'VISCODE')])
print(adnimerge[conversions])
dataset[,c('sid', 'visit')]
adnimerge[,c('PTID', 'VISCODE')]
conversions = intersect(dataset[,c('sid', 'visit')], adnimerge[,c('PTID', 'VISCODE')])
conversions
View(dataset)
View(merge)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in dataset) {
print(row)
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in dataset) {
print(row)
print('\n\n')
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
print(dataset[row])
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
print(dataset[row, 'visit'])
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversion <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit']]
print(conversion$PTID)
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversion <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
print(conversion$PTID)
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversion <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
conversions[row] <- conversion
print(conversions)
}
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversion <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
conversions[row] <- conversion
}
print(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversions[row] <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
}
print(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversions[row, ] <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
}
print(conversions)
View(conversion)
View(conversions)
clear
clc
View(r)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversions[row, ] <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
}
print(conversions)
View(conversions)
# Load libraries
library(ADNIMERGE)
csv_file <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/dataset.csv'
# Read csv
dataset <- read.csv(csv_file, colClasses = c('NULL', NA, NA))
dataset$visit <- tolower(dataset$visit)
dataset[dataset=='m00'] <- 'bl'
for (row in 1:nrow(dataset)) {
conversions_df[row, ] <- adnimerge[adnimerge$PTID %in% dataset[row, 'sid'] & adnimerge$VISCODE %in% dataset[row, 'visit'], ]
}
print(conversions_df)
adnimerge
merge = adnimerge
View(merge)
# Load libraries
library(ADNIMERGE)
workdir <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/'
merge_csv <- workdir + '/adnimerge.csv'
# Load ADNIMERGE
merge <- adnimerge
print(merge_csv)
# Load libraries
library(ADNIMERGE)
workdir <- '/user/ssilvari/home/Documents/structural/CSD-AD/output/'
merge_csv <- file.path(workdir, 'adnimerge.csv')
# Load ADNIMERGE
merge <- adnimerge
print(merge_csv)
# Load libraries
library(ADNIMERGE)
workdir <- '/user/ssilvari/home/Documents/structural/CSD-AD/output'
merge_csv <- file.path(workdir, 'adnimerge.csv')
mmse_csv <- file.path(workdir,  'mmse.csv')
# Load ADNIMERGE
write.csv(adnimerge, file = merge_csv)
write.csv(mmse, file = mmse_csv)
# Load libraries
library(ADNIMERGE)
workdir <- '/user/ssilvari/home/Documents/structural/CSD-AD/param/common'
merge_csv <- file.path(workdir, 'adnimerge.csv')
mmse_csv <- file.path(workdir,  'mmse.csv')
cdr_csv <- file.path(workdir,  'cdr.csv')
# Load ADNIMERGE
write.csv(adnimerge, file = merge_csv)
write.csv(mmse, file = mmse_csv)
write.csv(cdr, file = cdr_csv)
, or
'help.start()' for an HTML browser interface to help.
library(ADNIMERGE)
Loading required package: Hmisc
data_nl = subset(data,RID%in%unique(data_bl_nl$RID))
nl_last_fu = data_nl[which(data_nl$Time==0)-1,c(1,6)]
RID_nl_conv = subset(nl_last_fu,DX%in%c("Dementia","MCI","MCI to Dementia","NL to MCI"))$RID
data_mci = subset(data,RID%in%unique(data_bl_mci$RID))
mci_last_fu = data_mci[which(data_mci$Time==0)-1,c(1,6)]
RID_mci_conv = subset(mci_last_fu,DX%in%c("Dementia","MCI to Dementia"))$RID
library(ADNIMERGE)
data_bl_mci = subset(adnimerge,Month==0&DX=='MCI')\
data_bl_mci = subset(adnimerge,Month==0&DX=='MCI')
data_mci = subset(adnimerge,RID%in%unique(data_bl_mci$RID))
mci_last_fu = data_mci[which(data_mci$Month==0)-1,c(1,6)]
mci_last_fu
RID_mci_conv = subset(mci_last_fu,DX%in%c("Dementia","MCI to Dementia"))$RID
names(mci_last_fu)
names(data_mci)
mci_last_fu = data_mci[which(data_mci$Month==0)-1,c(1,6,60)]
names(mci_last_fu)
RID_mci_conv = subset(mci_last_fu,DX%in%c("Dementia","MCI to Dementia"))$RID
RID_mci_conv
ls()
!unique(data_mci$RID)%in%RID_mci_conv
length(RID_mci_conv)
which(!unique(data_mci$RID)%in%RID_mci_conv)
length(which(!unique(data_mci$RID)%in%RID_mci_conv))
mci_last_fu
subset(animerge,RID==179)$DX
subset(adnimerge,RID==179)$DX
subset(adnimerge,RID==179)$DX
as.array(subset(adnimerge,RID==179)$DX)
subset(adnimerge,RID==179)$DX
xxx = subset(adnimerge,RID==179)
is.na(xxx)
xxx = subset(adnimerge,RID==179)$DX
is.na(xxx)
xxx[which(!is.na(xxx))]
xxx[which(!is.na(xxx))][-1]
xxx[which(!is.na(xxx))][::]
xxx[which(!is.na(xxx))][:]
xxx[which(!is.na(xxx))][:-1]
xxx[which(!is.na(xxx))][-1:]
xxx[which(!is.na(xxx))][last]
xxx[which(!is.na(xxx))][end]
xxx[which(!is.na(xxx))][:end]
xxx[which(!is.na(xxx))][1:end]
xxx[which(!is.na(xxx))]
xxx[which(!is.na(xxx))][length(xxx[which(!is.na(xxx))])]
for (sub in data_mci$RID){}
for (sub in data_mci$RID){
xxx = subset(adnimerge,RID==sub)$DX
if (xxx[which(!is.na(xxx))][length(xxx[which(!is.na(xxx))])]%in%c('Dementia','MCI to Dementia'))
{cat(sub)}}
for (sub in data_mci$RID){
xxx = subset(adnimerge,RID==sub)$DX
if (xxx[which(!is.na(xxx))][length(xxx[which(!is.na(xxx))])]%in%c('Dementia','MCI to Dementia'))
{print0(sub)}}
for (sub in data_mci$RID){
xxx = subset(adnimerge,RID==sub)$DX
if (xxx[which(!is.na(xxx))][length(xxx[which(!is.na(xxx))])]%in%c('Dementia','MCI to Dementia'))
{print(sub)}}
for (sub in subseet(data_mci,Month==0)$RID){
xxx = subset(adnimerge,RID==sub)$DX
if (xxx[which(!is.na(xxx))][length(xxx[which(!is.na(xxx))])]%in%c('Dementia','MCI to Dementia'))
{print(sub)}}
for (sub in subset(data_mci,Month==0)$RID){
xxx = subset(adnimerge,RID==sub)$DX
if (xxx[which(!is.na(xxx))][length(xxx[which(!is.na(xxx))])]%in%c('Dementia','MCI to Dementia'))
{print(sub)}}
# Include ADNIMERGE
library(ADNIMERGE)
data_bl_mci = subset(adnimerge,Month==0 & DX=='MCI')
data_mci = subset(adnimerge,RID %in% unique(data_bl_mci$RID))
# sdfsdf
for (sub in subset(data_mci, Month==0)$RID) {
dxs = subset(adnimerge,RID==sub)$DX
if (dxs[which(!is.na(dxs))][length(dxs[which(!is.na(dxs))])]%in%c('Dementia','MCI to Dementia'))
{print(sub)}
}
cear()
clc
# sdfsdf
for (sub in subset(data_mci, Month==0)$RID) {
dxs = subset(adnimerge,RID==sub)$DX
if (dxs[which(!is.na(dxs))][length(dxs[which(!is.na(dxs))])]%in%c('Dementia','MCI to Dementia'))
{print(sub)}
}
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
library(rlist)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
length(data)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
View(adnimerge)
View(data_mci)
View(data_mci)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
View(data_mci)
View(data_mci)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
conversions = data.frame(PTID=c(sids), DX=c(dxs))
length(dxs)
length(sids)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
View(conversions)
View(conversions)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
stable = data_bl_mci[ !(data_bl_mci$PTID %in% conversions), ]
View(stable)
View(stable)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
View(conversions)
View(conversions)
source('/home/ssilvari/Documents/structural/CSD-AD/param/get_conversions_from_adnimerge.R')
View(stable)
View(stable)
View(conversions)
write.csv('/user/ssilvari/home/Documents/structural/CSD-AD/param/common/adnimerge_conversions.csv')
write.csv(conversions, file='/user/ssilvari/home/Documents/structural/CSD-AD/param/common/adnimerge_conversions.csv')
write.csv(conversions, file='/user/ssilvari/home/Documents/structural/CSD-AD/param/common/adnimerge_conversions_v2.csv')
stable = data_bl_mci[ !(data_bl_mci$PTID %in% sids), ]
# Include ADNIMERGE
library(ADNIMERGE)
data_bl_mci = subset(adnimerge,Month==0 & DX=='MCI')
data_mci = subset(adnimerge,RID %in% unique(data_bl_mci$RID))
# Extract Conversions
sids = vector()
for (sub in subset(data_mci, Month==0)$PTID) {
dxs_mci = subset(adnimerge,PTID==sub)$DX
last_dx = dxs_mci[which(!is.na(dxs_mci))][length(dxs_mci[which(!is.na(dxs_mci))])]
if (last_dx%in%c('Dementia','MCI to Dementia')){
# Append PTID
sids = append(sids, sub)
}
}
conversions = data_bl_mci[ (data_bl_mci$PTID %in% sids), ]
stable = data_bl_mci[ !(data_bl_mci$PTID %in% sids), ]
write.csv(stable, file='/user/ssilvari/home/Documents/structural/CSD-AD/param/common/adnimerge_MCInc_v2.csv')
setwd("/user/ssilvari/home/Documents/code/r_programming")
ls
ls()
